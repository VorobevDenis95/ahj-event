(()=>{"use strict";class t{constructor(){this.score=0,this.miss=0,this.interval=null}}class s{constructor(s){this.fields=s,this.random=null,this.hit=!1,this.interval=null,this.gameState=new t,this.onClick=this.onClick.bind(this),this.fields.forEach((t=>{t.addEventListener("click",this.onClick)}))}setsRandomNumber(){let t=Math.floor(Math.random()*(this.fields.length-1));for(;t===this.random;)t=Math.floor(Math.random()*(this.fields.length-1));return this.random=t,t}deleteActiveClass(){const t=this.fields.filter((t=>t.classList.contains("field_active")))[0];t&&t.classList.remove("field_active")}addActiveClass(){this.fields[this.setsRandomNumber()].classList.add("field_active")}moveGoblin(){this.interval=setInterval((()=>{this.hit||this.miss(),this.hit&&(this.hit=!1),this.deleteActiveClass(),this.addActiveClass()}),1e3)}clearsInterval(){this.hit=!0,clearInterval(this.interval)}showScore(){document.querySelector(".score_number").textContent=this.gameState.score}showMiss(){5===this.gameState.miss&&this.gameOver(),document.querySelector(".miss_number").textContent=this.gameState.miss}onClick(t){"field field_active"===t.target.className&&(this.gameState.score+=1,this.showScore(),this.clearsInterval(),this.deleteActiveClass(),this.moveGoblin())}miss(){this.gameState.miss+=1,this.showMiss()}gameOver(){this.clearsInterval(),alert("Вы проиграли")}}const e=Array.from(document.querySelectorAll(".field")),i=new class{constructor(t){this.board=new s(t)}start(){this.board.moveGoblin()}}(e);i.start()})();
//# sourceMappingURL=main.js.map